<!DOCTYPE html>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" media="all">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css" media="all">
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<script src="/js/set.js"></script>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width">
    <meta charset="UTF-8">
    <title>Heating Status</title>
</head>
<body>
<h1 style="color: #5e9ca0;">Heating Settings</h1>
<input type="hidden" name="ipPort" id="ipPort" value="{{.IpPort}}"/>
<p>{{if .IsTemporary}}</p>
<h2 style="color: red;">Temporary Settings:</h2>
<table>
    <tbody>
    <tr>
        <td>Temporary settings until</td>
        <td>{{.Until}}</td>
    </tr>
    <tr>
        <td>Temporary settings level</td>
        <td>{{.TemporaryLevel}}</td>
    </tr>
    </tbody>
</table>
<p>{{end}}</p>
<h2 style="color: #2e6c80;">Actual Settings:</h2>
<table>
    <tbody>
    <tr>
        <td>Heater level</td>
        <td>{{.Heater_Level}}</td>
    </tr>
    <tr>
        <td>Heater Requested temperature</td>
        <td>{{.Temperature_Requested}} &deg;C</td>
    </tr>
    <tr>
        <td>House temperature</td>
        <td>{{.Temperature_Actual}} &deg;C</td>
    </tr>
    </tbody>
</table>
<h2 style="color: #2e6c80;">Temporarily force settings:</h2>
<table>
    <tbody>
    <tr>
        <td>
            <form>
                <label for="day">Day</label>
                <input type="text" name="day" id="day" value=""/>
                <label for="hour">Hour</label>
                <input type="text" name="hour" id="hour" value=""/>
                <button id="clickHigh" type="button" onclick="setTemporary('high');" href="#">High</button>
                <button id="clickLow" type="button" onclick="setTemporary('low');" href="#">Low</button>
                <button id="clickMax" type="button" onclick="setTemporary('max');" href="#">Max</button>
                <button id="clickAway" type="button" onclick="setTemporary('away');" href="#">Away</button>
                <button id="clickReset" type="button" onclick="setTemporary('reset');" href="#">Reset</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>
<h2 style="color: #2e6c80;">Summary Normal Configuration:</h2>
<table>
    <tbody>
    <tr>
        <th>Day</th>
        <th>Moment</th>
        <th>Level</th>
        <th>Value</th>
    </tr>
    {{with .NormalValues}}
    {{range .}}
    <tr>
        <td>{{.Day}}</td>
        <td align="right">{{.Moment}}</td>
        <td>{{.LevelName}}</td>
        <td>{{.LevelValue}}</td>
    </tr>
    </tbody>
    {{end}}
    {{end}}
</table>
<h2 style="color: #2e6c80;">Last Update:</h2>
<table>
    <tbody>
    <tr>
        <td>Date &amp; Time</td>
        <td>{{.UpdateTime}}</td>
    </tr>
    </tbody>
</table>
<table>
    <tbody>
    <tr>
        <th>Room</th>
        <th>Description</th>
        <th>Type</th>
        <th>On</th>
        <th>Off</th>
    </tr>
    {{with .Devices}}
        {{range .}}
            {{if eq .Type "Prise"}}
            <tr>
                <td>{{.Room}}</td>
                <td>{{.Name}}</td>
                <td>{{.Type}}</td>
                <td>
                    <button onclick="toggleDevice({{.DomotiqueId}}, {{.UrlOn}})">On</button>
                </td>
                <td>
                    <button onclick="toggleDevice({{.DomotiqueId}}, {{.UrlOff}})">Off</button>
                </td>
            </tr>
                {{end}}
        {{end}}
    {{end}}
    </tbody>
</table>

</body>
<footer>
    <div id="demo-snackbar-example" class="mdl-js-snackbar mdl-snackbar">
        <div class="mdl-snackbar__text"></div>
        <button class="mdl-snackbar__action" type="button"></button>
    </div>
</footer>
</html>